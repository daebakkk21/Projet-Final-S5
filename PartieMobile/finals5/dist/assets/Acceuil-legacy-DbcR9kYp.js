System.register(["./index-legacy-DV7ktizM.js","./firebase-legacy-B4mvSQHv.js"],function(a,t){"use strict";var e,r,i,n,s,o,d,c,l,p,f,g,u,v,x,m,b,h,y,w,k,z,_,F,A,j;return{setters:[a=>{e=a.d,r=a.S,i=a.c,n=a.w,s=a.u,o=a.I,d=a.F,c=a.E,l=a.a,p=a.j,f=a.r,g=a.z,u=a.k,v=a.T,x=a.U,m=a.V,b=a.W,h=a.D,y=a.R,w=a.G,k=a.X,z=a.t,_=a._},a=>{F=a.g,A=a.r,j=a.d}],execute:function(){var t=document.createElement("style");t.textContent="[data-v-f9f6a5c4]:root{--brand-orange: #E85002;--brand-orange-dark: #C10801;--brand-orange-light: #F16001;--primary-black: #000000;--primary-white: #F9F9F9;--gray-medium: #646464;--gray-light: #A7A7A7;--gray-dark: #333333;--primary-bg: var(--primary-white);--card-bg: #FFFFFF;--border-color: rgba(0, 0, 0, .12);--shadow-color: rgba(0, 0, 0, .08);--status-pending: #FFA500;--status-repairing: #E85002;--status-ready: #059669}ion-page[data-v-f9f6a5c4]{background-color:var(--primary-bg);color:var(--primary-black)}ion-content[data-v-f9f6a5c4]{--background: var(--primary-bg);--color: var(--primary-black);--padding-start: 20px;--padding-end: 20px;--padding-top: 24px;--padding-bottom: 24px}.dashboard-container[data-v-f9f6a5c4]{display:flex;flex-direction:column;min-height:calc(100vh - 56px);max-width:440px;margin:0 auto}.header-section[data-v-f9f6a5c4]{padding:0 0 24px;border-bottom:2px solid var(--border-color);margin-bottom:16px}.page-title[data-v-f9f6a5c4]{font-size:32px;font-weight:800;margin:0 0 4px;color:var(--primary-black);letter-spacing:-.5px}.header-subtitle[data-v-f9f6a5c4]{font-size:16px;color:var(--gray-medium);margin:0;font-weight:500}.welcome-message[data-v-f9f6a5c4]{background:linear-gradient(135deg,rgba(232,80,2,.08),rgba(193,8,1,.08));border-radius:12px;padding:16px;margin-bottom:20px;border-left:4px solid var(--brand-orange)}.welcome-message p[data-v-f9f6a5c4]{font-size:15px;color:var(--gray-dark);margin:0;line-height:1.5;font-weight:500}.loading-state[data-v-f9f6a5c4]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:40px 20px;text-align:center}.loading-state p[data-v-f9f6a5c4]{font-size:14px;color:var(--gray-medium);margin:0;font-weight:500}.add-car-section[data-v-f9f6a5c4]{display:flex;justify-content:center;margin-bottom:28px}.add-car-btn[data-v-f9f6a5c4]{display:flex;align-items:center;justify-content:center;gap:10px;width:100%;max-width:340px;height:48px;background:var(--brand-orange);color:var(--primary-white);border-radius:12px;font-weight:600;font-size:16px;border:none;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px rgba(232,80,2,.25)}.add-car-btn[data-v-f9f6a5c4]:active{background:#d14802;transform:translateY(1px);box-shadow:0 2px 8px rgba(232,80,2,.35)}.btn-icon[data-v-f9f6a5c4]{font-size:20px}.cars-list-section[data-v-f9f6a5c4]{flex:1;margin-bottom:28px}.status-group[data-v-f9f6a5c4]{margin-bottom:28px}.status-title[data-v-f9f6a5c4]{font-size:18px;font-weight:700;margin:0 0 14px;color:var(--primary-black);display:flex;align-items:center;gap:10px}.status-badge[data-v-f9f6a5c4]{display:inline-block;padding:6px 14px;border-radius:20px;font-size:13px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--primary-white)}.status-badge.pending[data-v-f9f6a5c4]{background:var(--status-pending)}.status-badge.repairing[data-v-f9f6a5c4]{background:var(--status-repairing)}.status-badge.ready[data-v-f9f6a5c4]{background:var(--status-ready)}.cars-group[data-v-f9f6a5c4]{display:flex;flex-direction:column;gap:12px}.car-card[data-v-f9f6a5c4]{background:var(--card-bg);border-radius:14px;padding:16px;border:1.5px solid var(--border-color);box-shadow:0 2px 8px var(--shadow-color);transition:all .2s ease}.car-card[data-v-f9f6a5c4]:active{transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow-color)}.car-header[data-v-f9f6a5c4]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.car-icon[data-v-f9f6a5c4]{width:44px;height:44px;background:linear-gradient(135deg,rgba(232,80,2,.1),rgba(193,8,1,.1));border-radius:10px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.car-icon ion-icon[data-v-f9f6a5c4]{font-size:22px;color:var(--brand-orange)}.car-info[data-v-f9f6a5c4]{flex:1}.car-name[data-v-f9f6a5c4]{font-size:16px;font-weight:700;margin:0 0 4px;color:var(--primary-black);font-family:Courier New,monospace;letter-spacing:1px}.car-description[data-v-f9f6a5c4]{font-size:13px;color:var(--gray-medium);margin:0;font-weight:400;max-height:32px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.car-date[data-v-f9f6a5c4]{font-size:13px;color:var(--gray-medium);margin:0;font-weight:400}.pending-card[data-v-f9f6a5c4]{border-left:4px solid var(--status-pending)}.repairing-card[data-v-f9f6a5c4]{border-left:4px solid var(--status-repairing)}.ready-card[data-v-f9f6a5c4]{border-left:4px solid var(--status-ready)}.empty-state[data-v-f9f6a5c4]{text-align:center;font-size:14px;color:var(--gray-light);padding:20px;margin:0;font-weight:500}.logout-section[data-v-f9f6a5c4]{padding-top:20px;border-top:1.5px solid var(--border-color);display:flex;justify-content:center}.logout-btn[data-v-f9f6a5c4]{display:flex;align-items:center;justify-content:center;width:100%;max-width:340px;height:46px;background:var(--brand-orange);color:var(--primary-white);border-radius:12px;font-weight:600;font-size:15px;border:none;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px rgba(232,80,2,.25);padding:0 24px;gap:8px}.logout-btn[data-v-f9f6a5c4]:not(:disabled):active{background:#d14802;transform:translateY(1px);box-shadow:0 2px 8px rgba(232,80,2,.35)}.logout-btn[data-v-f9f6a5c4]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 350px){.page-title[data-v-f9f6a5c4]{font-size:28px}ion-content[data-v-f9f6a5c4]{--padding-start: 16px;--padding-end: 16px}.add-car-btn[data-v-f9f6a5c4],.logout-btn[data-v-f9f6a5c4]{max-width:300px;font-size:14.5px}}@media (min-width: 768px){.dashboard-container[data-v-f9f6a5c4]{max-width:400px}}@keyframes fadeInUp-f9f6a5c4{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.status-group[data-v-f9f6a5c4]{animation:fadeInUp-f9f6a5c4 .4s ease-out forwards}.status-group[data-v-f9f6a5c4]:nth-child(1){animation-delay:.1s}.status-group[data-v-f9f6a5c4]:nth-child(2){animation-delay:.2s}.status-group[data-v-f9f6a5c4]:nth-child(3){animation-delay:.3s}.car-card[data-v-f9f6a5c4]{animation:fadeInUp-f9f6a5c4 .4s ease-out backwards}\n/*$vite$:1*/",document.head.appendChild(t);const E={class:"dashboard-container"},C={key:0,class:"loading-state"},S={class:"add-car-section"},I={class:"cars-list-section"},Y={class:"status-group"},D={key:0,class:"cars-group"},U={class:"car-header"},G={class:"car-icon"},R={class:"car-info"},L={class:"car-name"},N={class:"car-description"},O={class:"car-date"},P={key:1,class:"empty-state"},T={class:"status-group"},V={key:0,class:"cars-group"},$={class:"car-header"},B={class:"car-icon"},J={class:"car-info"},W={class:"car-name"},X={class:"car-description"},q={class:"car-date"},H={key:1,class:"empty-state"},K={class:"status-group"},M={key:0,class:"cars-group"},Q={class:"car-header"},Z={class:"car-icon"},aa={class:"car-info"},ta={class:"car-name"},ea={class:"car-description"},ra={class:"car-date"},ia={key:1,class:"empty-state"},na={class:"logout-section"},sa=["disabled"],oa={key:0};a("default",_(e({__name:"Acceuil",setup(a){const t=d(),e=c(!1),_=c([]),da=c(!0),ca=a=>{try{return new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return a}};r(async()=>{try{const a=localStorage.getItem("client");if(!a)return void(await t.push("/login"));let e;try{const t=JSON.parse(a);e=t.id}catch{return void console.error("Erreur: données de session invalides")}const r=await F(A(j,"voitures"));if(r.exists()){const a=r.val(),t=Object.entries(a).filter(([a,t])=>t.client_uid===e).map(([a,t])=>({id:a,immatriculation:t.immatriculation,description:t.description,statut_id:t.statut_id,date_depot:t.date_depot}));_.value=t,console.log("Voitures chargées:",t)}}catch(a){console.error("Erreur lors du chargement des voitures:",a)}finally{da.value=!1}});const la=y(()=>_.value.filter(a=>"enAttente"===a.statut_id)),pa=y(()=>_.value.filter(a=>"enReparation"===a.statut_id)),fa=y(()=>_.value.filter(a=>"prete"===a.statut_id)),ga=()=>{t.push({name:"AddCar"})},ua=async()=>{e.value=!0;try{localStorage.removeItem("client"),await t.replace({name:"Login"})}catch(a){console.error("Sign out failed:",a)}finally{e.value=!1}};return(a,t)=>(w(),i(s(o),null,{default:n(()=>[l(s(h),{class:"ion-padding"},{default:n(()=>[p("div",E,[t[5]||(t[5]=p("div",{class:"header-section"},[p("h1",{class:"page-title"},"Accueil"),p("p",{class:"header-subtitle"},"Tableau de bord")],-1)),t[6]||(t[6]=p("div",{class:"welcome-message"},[p("p",null,"Bienvenue sur Garage Elite. Gérez vos véhicules et suivez vos réparations en temps réel.")],-1)),da.value?(w(),f("div",C,[l(s(g),{name:"dots"}),t[0]||(t[0]=p("p",null,"Chargement de vos voitures...",-1))])):(w(),f(x,{key:1},[p("div",S,[p("button",{onClick:ga,class:"add-car-btn"},[l(s(u),{icon:s(v),class:"btn-icon"},null,8,["icon"]),t[1]||(t[1]=p("span",null,"Ajouter une voiture",-1))])]),p("div",I,[p("div",Y,[t[2]||(t[2]=p("h2",{class:"status-title"},[p("span",{class:"status-badge pending"},"En attente")],-1)),la.value.length>0?(w(),f("div",D,[(w(!0),f(x,null,m(la.value,a=>(w(),f("div",{key:a.id,class:"car-card pending-card"},[p("div",U,[p("div",G,[l(s(u),{icon:s(k)},null,8,["icon"])]),p("div",R,[p("h3",L,z(a.immatriculation),1),p("p",N,z(a.description),1)])]),p("p",O,"Depuis le "+z(ca(a.date_depot)),1)]))),128))])):(w(),f("p",P,"Aucune voiture en attente"))]),p("div",T,[t[3]||(t[3]=p("h2",{class:"status-title"},[p("span",{class:"status-badge repairing"},"En reparation")],-1)),pa.value.length>0?(w(),f("div",V,[(w(!0),f(x,null,m(pa.value,a=>(w(),f("div",{key:a.id,class:"car-card repairing-card"},[p("div",$,[p("div",B,[l(s(u),{icon:s(k)},null,8,["icon"])]),p("div",J,[p("h3",W,z(a.immatriculation),1),p("p",X,z(a.description),1)])]),p("p",q,"En cours depuis le "+z(ca(a.date_depot)),1)]))),128))])):(w(),f("p",H,"Aucune voiture en réparation"))]),p("div",K,[t[4]||(t[4]=p("h2",{class:"status-title"},[p("span",{class:"status-badge ready"},"Prête")],-1)),fa.value.length>0?(w(),f("div",M,[(w(!0),f(x,null,m(fa.value,a=>(w(),f("div",{key:a.id,class:"car-card ready-card"},[p("div",Q,[p("div",Z,[l(s(u),{icon:s(k)},null,8,["icon"])]),p("div",aa,[p("h3",ta,z(a.immatriculation),1),p("p",ea,z(a.description),1)])]),p("p",ra,"Prête depuis le "+z(ca(a.date_depot)),1)]))),128))])):(w(),f("p",ia,"Aucune voiture prête"))])])],64)),p("div",na,[p("button",{onClick:ua,disabled:e.value,class:"logout-btn"},[l(s(u),{icon:s(b),class:"btn-icon"},null,8,["icon"]),e.value?(w(),i(s(g),{key:1,name:"dots"})):(w(),f("span",oa,"Se déconnecter"))],8,sa)])])]),_:1})]),_:1}))}}),[["__scopeId","data-v-f9f6a5c4"]]))}}});
