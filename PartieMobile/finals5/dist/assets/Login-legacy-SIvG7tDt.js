System.register(["./firebase-legacy-B4mvSQHv.js","./index-legacy-DV7ktizM.js"],function(a,r){"use strict";var t,o,e,n,i,l,d,p,c,b,s,u,g,v,m,x,h,f,y,k,w,z,_,F,C,I,E,A,S,j,q,B,D,L,R,G,H,M;return{setters:[a=>{t=a.g,o=a.r,e=a.d},a=>{n=a.d,i=a.c,l=a.w,d=a.u,p=a.I,c=a.a,b=a.b,s=a.e,u=a.f,g=a.g,v=a.h,m=a.i,x=a.j,h=a.k,f=a.l,y=a.m,k=a.n,w=a.o,z=a.p,_=a.q,F=a.r,C=a.s,I=a.t,E=a.v,A=a.x,S=a.y,j=a.z,q=a.A,B=a.B,D=a.C,L=a.D,R=a.E,G=a.F,H=a.G,M=a._}],execute:function(){var r=document.createElement("style");r.textContent="[data-v-b82516ab]:root{--brand-orange: #E85002;--brand-orange-dark: #C10801;--brand-orange-light: #F16001;--primary-black: #000000;--primary-white: #F9F9F9;--gray-medium: #646464;--gray-light: #A7A7A7;--gray-dark: #333333;--primary-bg: var(--primary-white);--card-bg: #FFFFFF;--input-bg: #FFFFFF;--primary-text: var(--primary-black);--secondary-text: var(--gray-dark);--border-color: rgba(0, 0, 0, .12);--shadow-color: rgba(0, 0, 0, .08);--error-color: #DC2626;--success-color: #059669}ion-page[data-v-b82516ab]{background-color:var(--primary-bg);color:var(--primary-text)}ion-content[data-v-b82516ab]{--background: var(--primary-bg);--color: var(--primary-text);--padding-start: 20px;--padding-end: 20px;--padding-top: 20px;--padding-bottom: 20px}.custom-toolbar[data-v-b82516ab]{--background: var(--primary-white);--border-color: var(--border-color);--color: var(--primary-black);border-bottom:1px solid var(--border-color)}.custom-back-button[data-v-b82516ab]{--color: var(--brand-orange);--color-hover: var(--brand-orange-dark);font-weight:500;font-size:16px}.page-title[data-v-b82516ab]{font-size:18px;font-weight:600;color:var(--primary-black)}.login-container[data-v-b82516ab]{display:flex;flex-direction:column;min-height:calc(100vh - 56px);max-width:440px;margin:0 auto}.login-header[data-v-b82516ab]{text-align:center;padding:24px 0 32px}.logo-icon[data-v-b82516ab]{width:72px;height:72px;background:linear-gradient(135deg,var(--primary-black),var(--brand-orange-dark),var(--brand-orange-light));border-radius:20px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;box-shadow:0 8px 24px rgba(232,80,2,.25)}.logo-icon ion-icon[data-v-b82516ab]{color:var(--primary-white);font-size:36px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.welcome-title[data-v-b82516ab]{font-size:28px;font-weight:800;margin:0 0 8px;color:var(--primary-black);letter-spacing:-.5px}.welcome-subtitle[data-v-b82516ab]{font-size:16px;color:var(--gray-medium);margin:0;font-weight:500;line-height:1.4}.form-section[data-v-b82516ab]{flex:1}.input-group[data-v-b82516ab]{margin-bottom:24px}.input-label[data-v-b82516ab]{display:block;font-size:15px;font-weight:600;color:var(--gray-dark);margin-bottom:10px}.custom-input[data-v-b82516ab]{--background: var(--input-bg);--border-radius: 12px;--padding-start: 16px;--padding-end: 16px;--padding-top: 16px;--padding-bottom: 16px;--placeholder-color: var(--gray-light);--color: var(--primary-black);border:1.5px solid var(--border-color);font-size:16px;transition:all .2s ease;background:var(--input-bg);box-shadow:0 2px 8px var(--shadow-color)}.custom-input.has-error[data-v-b82516ab]{border-color:var(--error-color);box-shadow:0 2px 8px rgba(220,38,38,.15)}.custom-input[data-v-b82516ab]:focus-within{border-color:var(--brand-orange);box-shadow:0 4px 12px rgba(232,80,2,.2)}.custom-input ion-icon[slot=start][data-v-b82516ab]{color:var(--brand-orange);margin-right:12px;font-size:20px}.error-message[data-v-b82516ab]{display:flex;align-items:center;gap:10px;background:rgba(220,38,38,.08);border:1px solid rgba(220,38,38,.2);border-radius:10px;padding:12px 14px;margin-top:20px;margin-bottom:24px;animation:fadeIn-b82516ab .3s ease;font-size:14px;font-weight:500;color:var(--error-color)}.error-message ion-icon[data-v-b82516ab]{font-size:18px;flex-shrink:0}.actions-section[data-v-b82516ab]{margin-top:auto;padding-bottom:20px}.action-buttons[data-v-b82516ab]{display:flex;flex-direction:column;gap:12px;margin-bottom:28px}.primary-btn[data-v-b82516ab]{--background: var(--brand-orange);--background-activated: #D14802;--background-focused: var(--brand-orange);--background-hover: var(--brand-orange);--border-radius: 12px;--padding-top: 14px;--padding-bottom: 14px;--box-shadow: 0 4px 12px rgba(232, 80, 2, .25);height:46px;font-weight:600;font-size:15px;text-transform:none;letter-spacing:.3px;--color: var(--primary-white);max-width:340px;margin:0 auto}.primary-btn[data-v-b82516ab]::part(native){background:var(--brand-orange)!important;box-shadow:0 4px 12px rgba(232,80,2,.25)!important}.primary-btn[data-v-b82516ab]:active::part(native){background:#d14802!important;box-shadow:0 2px 8px rgba(232,80,2,.35)!important}.secondary-btn[data-v-b82516ab]{--background: linear-gradient(135deg, var(--primary-black), var(--brand-orange-dark), var(--brand-orange-light));--background-activated: linear-gradient(135deg, var(--primary-black), var(--brand-orange-dark));--background-focused: linear-gradient(135deg, var(--primary-black), var(--brand-orange-dark), var(--brand-orange-light));--background-hover: linear-gradient(135deg, var(--primary-black), var(--brand-orange-dark), var(--brand-orange-light));--border-radius: 12px;--padding-top: 14px;--padding-bottom: 14px;--box-shadow: 0 4px 12px rgba(0, 0, 0, .15);height:46px;font-weight:600;font-size:15px;text-transform:none;letter-spacing:.3px;--color: var(--primary-white);max-width:340px;margin:0 auto;border:none}.secondary-btn[data-v-b82516ab]::part(native){background:linear-gradient(135deg,var(--primary-black),var(--brand-orange-dark),var(--brand-orange-light))!important;box-shadow:0 4px 12px rgba(0,0,0,.15)!important}.secondary-btn[data-v-b82516ab]:active::part(native){background:linear-gradient(135deg,var(--primary-black),var(--brand-orange-dark))!important;box-shadow:0 2px 8px rgba(0,0,0,.2)!important}.primary-btn[data-v-b82516ab]:disabled{opacity:.6;cursor:not-allowed}.primary-btn ion-icon[data-v-b82516ab],.secondary-btn ion-icon[data-v-b82516ab]{color:var(--primary-white)!important;margin-right:8px}.home-link[data-v-b82516ab]{display:flex;align-items:center;justify-content:center;gap:8px;width:100%;max-width:340px;height:40px;margin:8px auto 0;background:transparent;border:none;color:var(--gray-medium);font-size:14px;font-weight:500;text-decoration:none;cursor:pointer;transition:color .2s ease}.home-link[data-v-b82516ab]:active{color:var(--brand-orange)}.home-link ion-icon[data-v-b82516ab]{font-size:16px}.help-section[data-v-b82516ab]{text-align:center;padding:20px 0 30px;border-top:1px solid var(--border-color);margin-top:20px}.help-section small[data-v-b82516ab]{font-size:12px;color:var(--gray-medium)}@media (max-height: 650px){.login-header[data-v-b82516ab]{padding:16px 0 24px}.logo-icon[data-v-b82516ab]{width:64px;height:64px;margin-bottom:16px}.logo-icon ion-icon[data-v-b82516ab]{font-size:32px}.welcome-title[data-v-b82516ab]{font-size:24px}.action-buttons[data-v-b82516ab]{margin-bottom:24px}.primary-btn[data-v-b82516ab],.secondary-btn[data-v-b82516ab]{height:44px;--padding-top: 12px;--padding-bottom: 12px;max-width:320px}}@media (min-width: 768px){.login-container[data-v-b82516ab]{max-width:400px;padding-top:20px}}@media (max-width: 350px){.primary-btn[data-v-b82516ab],.secondary-btn[data-v-b82516ab]{max-width:300px;height:44px;font-size:14.5px}.home-link[data-v-b82516ab]{max-width:300px}ion-content[data-v-b82516ab]{--padding-start: 16px;--padding-end: 16px}}@supports (padding: max(0px)){ion-content[data-v-b82516ab]{--padding-start: max(20px, env(safe-area-inset-left));--padding-end: max(20px, env(safe-area-inset-right));--padding-bottom: max(20px, env(safe-area-inset-bottom));--padding-top: max(20px, env(safe-area-inset-top))}}@keyframes fadeIn-b82516ab{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}\n/*$vite$:1*/",document.head.appendChild(r);const T={class:"login-container"},U={class:"login-header"},V={class:"logo-icon"},Y={class:"form-section"},$={class:"input-group"},J={class:"input-group"},N={key:0,class:"error-message"},O={class:"actions-section"},K={class:"action-buttons"},P={key:0},Q={class:"help-section"};a("default",M(n({__name:"Login",setup(a){const r=R(""),n=R(""),M=R(!1),W=R(""),X=R(null),Z=R(null),aa=G(),ra=a=>{if(!a)return null;try{const r=a.shadowRoot,t=r&&r.querySelector("input")||a.querySelector&&a.querySelector("input")||null;return t?t.value:null}catch(r){return null}},ta=a=>{var t,o,e,n,i;const l=null!==(t=null!==(o=null==a||null===(e=a.detail)||void 0===e?void 0:e.value)&&void 0!==o?o:null==a||null===(n=a.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"",d=null!==(i=ra(X.value))&&void 0!==i?i:"";r.value=l||d},oa=a=>{var r,t,o,e,i;const l=null!==(r=null!==(t=null==a||null===(o=a.detail)||void 0===o?void 0:o.value)&&void 0!==t?t:null==a||null===(e=a.target)||void 0===e?void 0:e.value)&&void 0!==r?r:"",d=null!==(i=ra(Z.value))&&void 0!==i?i:"";n.value=l||d},ea=()=>{aa.push("/register")},na=()=>{aa.push("/home")},ia=async()=>{W.value="",M.value=!0,"undefined"!=typeof document&&document.activeElement instanceof HTMLElement&&document.activeElement.blur();const a=(r.value||ra(X.value)||"").trim(),i=n.value||ra(Z.value)||"";if(!a||!i)return W.value="Veuillez saisir l'email et le mot de passe.",void(M.value=!1);try{const r=await t(o(e,"clients"));if(!r.exists())return W.value="Aucun client trouvé",void(M.value=!1);let n=null;r.forEach(r=>{const t=r.key,o=r.val();o&&o.email===a&&i===t&&(n={id:t,...o})}),n?(localStorage.setItem("client",JSON.stringify(n)),console.log("Login: connectedClient",n),aa.replace({name:"Acceuil"}).catch(()=>{})):W.value="Email ou mot de passe incorrect"}catch(l){console.error("Login (RTDB) error:",l),W.value=(null==l?void 0:l.message)||"Erreur lors de la connexion."}finally{M.value=!1}};return(a,t)=>(H(),i(d(p),null,{default:l(()=>[c(d(m),null,{default:l(()=>[c(d(b),{class:"custom-toolbar"},{default:l(()=>[c(d(s),{slot:"start"},{default:l(()=>[c(d(u),{defaultHref:"/home",text:"Retour",class:"custom-back-button"})]),_:1}),c(d(g),{class:"page-title"},{default:l(()=>[...t[2]||(t[2]=[v("Connexion",-1)])]),_:1})]),_:1})]),_:1}),c(d(L),{class:"ion-padding"},{default:l(()=>[x("div",T,[x("div",U,[x("div",V,[c(d(h),{icon:d(f)},null,8,["icon"])]),t[3]||(t[3]=x("h1",{class:"welcome-title"},"Bon retour !",-1)),t[4]||(t[4]=x("p",{class:"welcome-subtitle"},"Connectez-vous à votre compte Garage Elite",-1))]),x("div",Y,[x("div",$,[c(d(y),{class:"input-label"},{default:l(()=>[...t[5]||(t[5]=[v("Adresse email",-1)])]),_:1}),c(d(k),{ref_key:"emailInput",ref:X,value:r.value,"onUpdate:value":t[0]||(t[0]=a=>r.value=a),type:"email",onIonInput:ta,onInput:ta,placeholder:"exemple@email.com",class:w(["custom-input",{"has-error":W.value&&W.value.includes("email")}])},{default:l(()=>[c(d(h),{icon:d(z),slot:"start"},null,8,["icon"])]),_:1},8,["value","class"])]),x("div",J,[c(d(y),{class:"input-label"},{default:l(()=>[...t[6]||(t[6]=[v("Mot de passe",-1)])]),_:1}),c(d(k),{ref_key:"passwordInput",ref:Z,value:n.value,"onUpdate:value":t[1]||(t[1]=a=>n.value=a),type:"password",onIonInput:oa,onInput:oa,placeholder:"Votre mot de passe",class:w(["custom-input",{"has-error":W.value&&W.value.includes("password")}])},{default:l(()=>[c(d(h),{icon:d(_),slot:"start"},null,8,["icon"])]),_:1},8,["value","class"])]),W.value?(H(),F("div",N,[c(d(h),{icon:d(C)},null,8,["icon"]),x("span",null,I(W.value),1)])):E("",!0),x("div",O,[x("div",K,[c(d(A),{expand:"block",onClick:ia,disabled:M.value,class:"primary-btn"},{default:l(()=>[M.value?(H(),i(d(j),{key:1,name:"crescent"})):(H(),F("span",P,[c(d(h),{icon:d(S),slot:"start"},null,8,["icon"]),t[7]||(t[7]=v(" Se connecter ",-1))]))]),_:1},8,["disabled"]),c(d(A),{expand:"block",onClick:ea,class:"secondary-btn"},{default:l(()=>[c(d(h),{icon:d(q),slot:"start"},null,8,["icon"]),t[8]||(t[8]=v(" Créer un compte ",-1))]),_:1}),x("button",{onClick:na,class:"home-link"},[c(d(h),{icon:d(B)},null,8,["icon"]),t[9]||(t[9]=v(" Retour à l'accueil ",-1))])])])]),x("div",Q,[c(d(D),{color:"medium"},{default:l(()=>[...t[10]||(t[10]=[x("small",null,"Besoin d'aide ? Contactez-nous au support@garageelite.fr",-1)])]),_:1})])])]),_:1})]),_:1}))}}),[["__scopeId","data-v-b82516ab"]]))}}});
