System.register(["./firebase-legacy-tkrXYgxB.js","./index-legacy-CJU9XS4u.js"],function(e,a){"use strict";var t,o,n,r,l,i,d,c,s,u,p,v,g,m,x,f,h,b,y,w,k,_,z,C,E,I,B,F,D,q,L,R,S,j,A,M;return{setters:[e=>{t=e.s,o=e.a},e=>{n=e.d,r=e.c,l=e.w,i=e.u,d=e.I,c=e.a,s=e.b,u=e.e,p=e.f,v=e.g,g=e.h,m=e.i,x=e.j,f=e.k,h=e.l,b=e.m,y=e.n,w=e.o,k=e.p,_=e.q,z=e.r,C=e.s,E=e.t,I=e.v,B=e.x,F=e.y,D=e.z,q=e.A,L=e.B,R=e.C,S=e.D,j=e.E,A=e.F,M=e._}],execute:function(){var a=document.createElement("style");a.textContent="[data-v-89c6805d]:root{--primary-bg: #11161E;--accent-color: #23CE6B;--primary-text: #FFFFFF;--secondary-bg: #19212C;--input-bg: #1E2633;--border-color: #2D3748;--error-color: #FF6B6B;--success-color: #23CE6B}.login-container[data-v-89c6805d]{display:flex;flex-direction:column;min-height:calc(100vh - 56px);max-width:400px;margin:0 auto;padding:0 8px}.login-header[data-v-89c6805d]{text-align:center;padding:40px 0 30px}.logo-icon[data-v-89c6805d]{width:64px;height:64px;background:linear-gradient(135deg,var(--accent-color),#1DB954);border-radius:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px}.logo-icon ion-icon[data-v-89c6805d]{color:#fff;font-size:28px}.welcome-title[data-v-89c6805d]{font-size:24px;font-weight:600;margin:0 0 8px;color:#fff}.welcome-subtitle[data-v-89c6805d]{font-size:15px;color:rgba(255,255,255,.7);margin:0;line-height:1.4}.form-section[data-v-89c6805d]{flex:1;padding:0 8px}.input-group[data-v-89c6805d]{margin-bottom:24px}.input-label[data-v-89c6805d]{display:block;font-size:14px;font-weight:500;color:rgba(255,255,255,.8);margin-bottom:8px}.custom-input[data-v-89c6805d]{--background: var(--input-bg);--border-radius: 12px;--padding-start: 16px;--padding-end: 16px;--padding-top: 16px;--padding-bottom: 16px;--placeholder-color: rgba(255, 255, 255, .4);--color: white;border:1px solid var(--border-color);font-size:16px}.custom-input.has-error[data-v-89c6805d]{border-color:var(--error-color)}.custom-input ion-icon[slot=start][data-v-89c6805d]{color:var(--accent-color);margin-right:12px;font-size:20px}.error-message[data-v-89c6805d]{display:flex;align-items:center;gap:8px;background:rgba(255,107,107,.1);border:1px solid rgba(255,107,107,.2);border-radius:8px;padding:12px 16px;margin-bottom:24px;animation:fadeIn-89c6805d .3s ease}.error-message ion-icon[data-v-89c6805d]{color:var(--error-color);font-size:20px;flex-shrink:0}.error-message span[data-v-89c6805d]{color:var(--error-color);font-size:14px;line-height:1.4}.buttons-container[data-v-89c6805d]{width:100%;max-width:400px;margin:40px auto 0;padding:0 16px;box-sizing:border-box;text-align:center}.primary-btn[data-v-89c6805d]{--background: var(--accent-color);--background-activated: #1DB954;--background-hover: #1DB954;--color: var(--primary-text);--border-radius: 12px;--padding-top: 18px;--padding-bottom: 18px;font-weight:600;font-size:16px;margin:0 auto;width:100%;max-width:280px;box-shadow:0 4px 12px rgba(35,206,107,.3);display:block}.primary-btn[data-v-89c6805d]:disabled{opacity:.5}.secondary-link[data-v-89c6805d]{--color: var(--accent-color);font-weight:600;font-size:15px;margin-top:16px;text-transform:none}.secondary-link ion-icon[data-v-89c6805d]{font-size:18px}.home-link[data-v-89c6805d]{--color: rgba(255, 255, 255, .7);font-size:14px;margin-top:8px;text-transform:none}.home-link ion-icon[data-v-89c6805d]{font-size:16px}.help-section[data-v-89c6805d]{text-align:center;padding:20px 0 30px;border-top:1px solid var(--border-color);margin-top:20px}.help-section small[data-v-89c6805d]{font-size:12px}@media (max-height: 650px){.login-header[data-v-89c6805d]{padding:20px 0}.logo-icon[data-v-89c6805d]{width:56px;height:56px;margin-bottom:16px}.welcome-title[data-v-89c6805d]{font-size:22px}}@supports (padding: max(0px)){ion-content[data-v-89c6805d]{--padding-start: max(20px, env(safe-area-inset-left));--padding-end: max(20px, env(safe-area-inset-right));--padding-bottom: max(20px, env(safe-area-inset-bottom))}.login-container[data-v-89c6805d]{padding-left:max(8px,env(safe-area-inset-left));padding-right:max(8px,env(safe-area-inset-right))}.buttons-container[data-v-89c6805d]{padding-left:max(16px,env(safe-area-inset-left));padding-right:max(16px,env(safe-area-inset-right))}}@keyframes fadeIn-89c6805d{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.custom-input[data-v-89c6805d]:focus-within{border-color:var(--accent-color)}\n/*$vite$:1*/",document.head.appendChild(a);const H={class:"login-container"},T={class:"login-header"},U={class:"logo-icon"},V={class:"form-section"},Y={class:"input-group"},$={class:"input-group"},G={key:0,class:"error-message"},N={class:"buttons-container"},J={key:0},K={class:"help-section"};e("default",M(n({__name:"Login",setup(e){const a=S(""),n=S(""),M=S(!1),O=S(""),P=S(null),Q=S(null),W=j(),X=e=>{if(!e)return null;try{const a=e.shadowRoot,t=a&&a.querySelector("input")||e.querySelector&&e.querySelector("input")||null;return t?t.value:null}catch(a){return null}},Z=e=>{var t,o,n,r,l;const i=null!==(t=null!==(o=null==e||null===(n=e.detail)||void 0===n?void 0:n.value)&&void 0!==o?o:null==e||null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==t?t:"",d=null!==(l=X(P.value))&&void 0!==l?l:"";a.value=i||d},ee=e=>{var a,t,o,r,l;const i=null!==(a=null!==(t=null==e||null===(o=e.detail)||void 0===o?void 0:o.value)&&void 0!==t?t:null==e||null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==a?a:"",d=null!==(l=X(Q.value))&&void 0!==l?l:"";n.value=i||d},ae=async()=>{O.value="",M.value=!0,"undefined"!=typeof document&&document.activeElement instanceof HTMLElement&&document.activeElement.blur();const e=(a.value||X(P.value)||"").trim(),r=n.value||X(Q.value)||"";if(!e||!r)return O.value="Veuillez saisir l'email et le mot de passe.",void(M.value=!1);try{await t(o,e,r),await W.replace({name:"Acceuil"})}catch(l){console.error("Login error:",l),"auth/invalid-email"===l.code?O.value="Email invalide.":"auth/user-not-found"===l.code?O.value="Aucun compte trouvé pour cet email.":"auth/wrong-password"===l.code?O.value="Mot de passe incorrect.":"auth/too-many-requests"===l.code?O.value="Trop de tentatives. Réessayer plus tard.":O.value=l.message||"Erreur lors de la connexion."}finally{M.value=!1}},te=async()=>{try{await W.push({name:"Register"})}catch(e){console.error("Navigation to /register failed:",e),W.push("/register").catch(e=>console.error("Fallback push failed:",e))}};return(e,t)=>(A(),r(i(d),null,{default:l(()=>[c(i(m),null,{default:l(()=>[c(i(s),null,{default:l(()=>[c(i(u),{slot:"start"},{default:l(()=>[c(i(p),{defaultHref:"/home",text:"Retour"})]),_:1}),c(i(v),null,{default:l(()=>[...t[2]||(t[2]=[g("Connexion",-1)])]),_:1})]),_:1})]),_:1}),c(i(R),{class:"ion-padding"},{default:l(()=>[x("div",H,[x("div",T,[x("div",U,[c(i(f),{icon:i(h)},null,8,["icon"])]),t[3]||(t[3]=x("h1",{class:"welcome-title"},"Bon retour !",-1)),t[4]||(t[4]=x("p",{class:"welcome-subtitle"},"Connectez-vous à votre compte Garage Elite",-1))]),x("div",V,[x("div",Y,[c(i(b),{class:"input-label"},{default:l(()=>[...t[5]||(t[5]=[g("Adresse email",-1)])]),_:1}),c(i(y),{ref_key:"emailInput",ref:P,value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),type:"email",onIonInput:Z,onInput:Z,placeholder:"exemple@email.com",class:w(["custom-input",{"has-error":O.value&&O.value.includes("email")}])},{default:l(()=>[c(i(f),{icon:i(k),slot:"start"},null,8,["icon"])]),_:1},8,["value","class"])]),x("div",$,[c(i(b),{class:"input-label"},{default:l(()=>[...t[6]||(t[6]=[g("Mot de passe",-1)])]),_:1}),c(i(y),{ref_key:"passwordInput",ref:Q,value:n.value,"onUpdate:value":t[1]||(t[1]=e=>n.value=e),type:"password",onIonInput:ee,onInput:ee,placeholder:"Votre mot de passe",class:w(["custom-input",{"has-error":O.value&&O.value.includes("password")}])},{default:l(()=>[c(i(f),{icon:i(_),slot:"start"},null,8,["icon"])]),_:1},8,["value","class"])]),O.value?(A(),z("div",G,[c(i(f),{icon:i(C)},null,8,["icon"]),x("span",null,E(O.value),1)])):I("",!0),x("div",N,[c(i(B),{expand:"block",onClick:ae,disabled:M.value,color:"success",class:"primary-btn"},{default:l(()=>[M.value?(A(),r(i(F),{key:1,name:"crescent"})):(A(),z("span",J,"Se connecter"))]),_:1},8,["disabled"]),c(i(B),{fill:"clear",routerLink:"/register",routerDirection:"forward",onClick:te,class:"secondary-link"},{default:l(()=>[c(i(f),{icon:i(D),slot:"start"},null,8,["icon"]),t[7]||(t[7]=g(" Créer un compte ",-1))]),_:1}),c(i(B),{fill:"clear",routerLink:"/home",routerDirection:"back",class:"home-link"},{default:l(()=>[c(i(f),{icon:i(q),slot:"start"},null,8,["icon"]),t[8]||(t[8]=g(" Retour à l'accueil ",-1))]),_:1})])]),x("div",K,[c(i(L),{color:"medium"},{default:l(()=>[...t[9]||(t[9]=[x("small",null,"Besoin d'aide ? Contactez-nous au support@autocare.fr",-1)])]),_:1})])])]),_:1})]),_:1}))}}),[["__scopeId","data-v-89c6805d"]]))}}});
